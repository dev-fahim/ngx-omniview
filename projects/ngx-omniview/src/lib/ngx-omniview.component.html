<div class="omniview-content">

  <!-- HTML format: render as HTML -->
  <div *ngIf="format === 'html'"
    [innerHTML]="renderedContent"
  ></div>

  <!-- Markdown format: use ngx-markdown for rendering -->
  <markdown *ngIf="format === 'markdown'"
    katex
    [data]="renderedContent"
  ></markdown>

  <!-- JSON format: use interactive JSON viewer -->
  <json-viewer *ngIf="format === 'json'"
    [data]="renderedContent"
  ></json-viewer>

  <!-- MathJax format -->  
  <div [mathjax]="renderedContent" *ngIf="format === 'mathjax'"></div>

  <!-- LaTex format -->
  <div *ngIf="format === 'latex'">
    <!-- show error HTML if validation failed -->
    <div *ngIf="isLatexError"
      [innerHTML]="renderedContent"
    ></div>

    <!-- otherwise use latex-js component -->
    <latex-js
      *ngIf="!isLatexError"
      #latexElement
      baseURL="https://cdn.jsdelivr.net/npm/latex.js/dist/" 
      [textContent]="renderedContent">
    </latex-js>
  </div>

  <!-- All other formats: text, code, latex -->
  <pre *ngIf="format !== 'html' && format !== 'markdown' && format !== 'json' && format !== 'mathjax' && format !== 'latex'"
    class="preserve-whitespace">{{ renderedContent }}</pre>  

</div>
